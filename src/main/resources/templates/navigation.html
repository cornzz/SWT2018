<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" lang="en">
	<div th:fragment="navigation">
        <ul class="nav nav-tabs">
			<li class="nav-item">
				<a class="nav-link" href="/" th:classappend="${#httpServletRequest.getRequestURI() == '/' ? 'active':''}">Home</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="/register" th:classappend="${#httpServletRequest.getRequestURI() == '/register' ? 'active':''}">Register</a>
			</li>
			<li class="nav-item" style="margin-left: auto;">
				<span class="nav-link" th:if="${loggedIn != null}" th:text="'Currently logged in: ' + ${loggedIn}"></span>
			</li>
			<li class="nav-item">
				<a class="nav-link"
				   th:href="${loggedIn == null} ? @{/login} : 'javascript: document.logoutForm.submit()'"
				   th:text="${loggedIn == null} ? 'Login' : 'Logout'"
				   th:classappend="${#httpServletRequest.getRequestURI() == '/login' ? 'active':''}">Login</a>
			</li>
		</ul>
		<form name="logoutForm" th:action="@{/logout}" method="post" th:hidden="true">
			<input type="submit" value="Sign Out" hidden/>
		</form>
    </div>
</html>